{"version":3,"file":"extent.js","sources":["src/ol-ext/extent.js"],"sourcesContent":["/**\n * Extent extensions\n */\nimport {\n  boundingExtent,\n  getBottomLeft,\n  getBottomRight,\n  getCenter as getExtentCenter,\n  getHeight as getExtentHeight,\n  getTopLeft,\n  getTopRight,\n  getWidth as getExtentWidth,\n} from 'ol/extent'\nimport { get as getProj } from 'ol/proj'\nimport { METERS_PER_UNIT } from 'ol/proj/Units'\nimport { EXTENT_CORNER, PROJ_UNIT } from './consts'\n\nexport {\n  getExtentCenter,\n  getExtentWidth,\n  getExtentHeight,\n  boundingExtent,\n}\n\n/**\n * Create a new extent or update the provided extent.\n * @param {number} minX Minimum X.\n * @param {number} minY Minimum Y.\n * @param {number} maxX Maximum X.\n * @param {number} maxY Maximum Y.\n * @param {Extent=} extent Destination extent.\n * @return {Extent} Extent.\n * @see https://github.com/openlayers/openlayers/blob/master/src/ol/extent.js#L208\n */\nexport function createOrUpdateExtent (minX, minY, maxX, maxY, extent) {\n  if (extent) {\n    extent[0] = minX\n    extent[1] = minY\n    extent[2] = maxX\n    extent[3] = maxY\n\n    return extent\n  } else {\n    return [minX, minY, maxX, maxY]\n  }\n}\n\n/**\n * Get a corner coordinate of an extent.\n * @param {Extent|number[]} extent Extent.\n * @param {string} corner Corner.\n * @return {Coordinate} Corner coordinate.\n * @see https://github.com/openlayers/openlayers/blob/master/src/ol/extent.js#L482\n */\nexport function getExtentCorner (extent, corner) {\n  let coordinate\n  if (corner === EXTENT_CORNER.BOTTOM_LEFT) {\n    coordinate = getBottomLeft(extent)\n  } else if (corner === EXTENT_CORNER.BOTTOM_RIGHT) {\n    coordinate = getBottomRight(extent)\n  } else if (corner === EXTENT_CORNER.TOP_LEFT) {\n    coordinate = getTopLeft(extent)\n  } else if (corner === EXTENT_CORNER.TOP_RIGHT) {\n    coordinate = getTopRight(extent)\n  } else {\n    throw new Error('Invalid corner')\n  }\n  return coordinate\n}\n\n/**\n * Generate a tile grid extent from a projection.  If the projection has an\n * extent, it is used.  If not, a global extent is assumed.\n * @param {Projection} projection Projection.\n * @return {Extent} Extent.\n * @see https://github.com/openlayers/openlayers/blob/master/src/ol/tilegrid.js#L148\n */\nexport function createExtentFromProjection (projection) {\n  projection = getProj(projection)\n  let extent = projection.getExtent()\n\n  if (!extent) {\n    let half = 180 * METERS_PER_UNIT[PROJ_UNIT.DEGREES] /\n      projection.getMetersPerUnit()\n    extent = createOrUpdateExtent(-half, -half, half, half)\n  }\n  return extent\n}\n"],"names":["createOrUpdateExtent","minX","minY","maxX","maxY","extent","getExtentCorner","corner","coordinate","EXTENT_CORNER","BOTTOM_LEFT","getBottomLeft","BOTTOM_RIGHT","getBottomRight","TOP_LEFT","getTopLeft","TOP_RIGHT","getTopRight","Error","createExtentFromProjection","projection","getProj","getExtent","half","METERS_PER_UNIT","PROJ_UNIT","DEGREES","getMetersPerUnit"],"mappings":";;;;;;;;;;;;;;;;AAAA;;;AAGA,AAqBA;;;;;;;;;;;AAUA,AAAO,SAASA,oBAAT,CAA+BC,IAA/B,EAAqCC,IAArC,EAA2CC,IAA3C,EAAiDC,IAAjD,EAAuDC,MAAvD,EAA+D;MAChEA,MAAJ,EAAY;IACVA,MAAM,CAAC,CAAD,CAAN,GAAYJ,IAAZ;IACAI,MAAM,CAAC,CAAD,CAAN,GAAYH,IAAZ;IACAG,MAAM,CAAC,CAAD,CAAN,GAAYF,IAAZ;IACAE,MAAM,CAAC,CAAD,CAAN,GAAYD,IAAZ;WAEOC,MAAP;GANF,MAOO;WACE,CAACJ,IAAD,EAAOC,IAAP,EAAaC,IAAb,EAAmBC,IAAnB,CAAP;;;;;;;;;;;AAWJ,AAAO,SAASE,eAAT,CAA0BD,MAA1B,EAAkCE,MAAlC,EAA0C;MAC3CC,UAAJ;;MACID,MAAM,KAAKE,aAAa,CAACC,WAA7B,EAA0C;IACxCF,UAAU,GAAGG,aAAa,CAACN,MAAD,CAA1B;GADF,MAEO,IAAIE,MAAM,KAAKE,aAAa,CAACG,YAA7B,EAA2C;IAChDJ,UAAU,GAAGK,cAAc,CAACR,MAAD,CAA3B;GADK,MAEA,IAAIE,MAAM,KAAKE,aAAa,CAACK,QAA7B,EAAuC;IAC5CN,UAAU,GAAGO,UAAU,CAACV,MAAD,CAAvB;GADK,MAEA,IAAIE,MAAM,KAAKE,aAAa,CAACO,SAA7B,EAAwC;IAC7CR,UAAU,GAAGS,WAAW,CAACZ,MAAD,CAAxB;GADK,MAEA;UACC,IAAIa,KAAJ,CAAU,gBAAV,CAAN;;;SAEKV,UAAP;;;;;;;;;;AAUF,AAAO,SAASW,0BAAT,CAAqCC,UAArC,EAAiD;EACtDA,UAAU,GAAGC,GAAO,CAACD,UAAD,CAApB;MACIf,MAAM,GAAGe,UAAU,CAACE,SAAX,EAAb;;MAEI,CAACjB,MAAL,EAAa;QACPkB,IAAI,GAAG,MAAMC,eAAe,CAACC,SAAS,CAACC,OAAX,CAArB,GACTN,UAAU,CAACO,gBAAX,EADF;IAEAtB,MAAM,GAAGL,oBAAoB,CAAC,CAACuB,IAAF,EAAQ,CAACA,IAAT,EAAeA,IAAf,EAAqBA,IAArB,CAA7B;;;SAEKlB,MAAP;;;;;"}