{"version":3,"file":"index.js","sources":["src/component/heatmap-layer/layer.vue?rollup-plugin-vue=script.js","src/component/heatmap-layer/layer.vue","src/component/heatmap-layer/index.js"],"sourcesContent":["\nimport HeatmapLayer from 'ol/layer/Heatmap'\nimport { isEqual } from '../../util/minilo'\nimport { makeWatchers } from '../../util/vue-helpers'\nimport { vectorLayer } from '../../mixin'\n\nexport default {\n  name: 'vl-layer-heatmap',\n  mixins: [vectorLayer],\n  props: {\n    gradient: {\n      type: Array,\n      default: () => ['#0000ff', '#00ffff', '#00ff00', '#ffff00', '#f00'],\n    },\n    radius: {\n      type: Number,\n      default: 8,\n    },\n    blur: {\n      type: Number,\n      default: 15,\n    },\n    shadow: {\n      type: Number,\n      default: 250,\n    },\n    weight: {\n      type: String,\n      default: 'weight',\n    },\n  },\n  methods: {\n    createLayer () {\n      return new HeatmapLayer({\n        id: this.id,\n        minResolution: this.minResolution,\n        maxResolution: this.maxResolution,\n        opacity: this.opacity,\n        visible: this.visible,\n        extent: this.extent,\n        zIndex: this.zIndex,\n        renderMode: this.renderMode,\n        gradient: this.gradient,\n        radius: this.radius,\n        blur: this.blur,\n        shadow: this.shadow,\n        weight: this.weight,\n      })\n    },\n  },\n  watch: {\n    blur (value) {\n      if (!this.$layer || this.$layer.getBlur() === value) return\n\n      this.$layer.setBlur(value)\n    },\n    gradient (value) {\n      if (!this.$layer || isEqual(this.$layer.getGradient(), value)) return\n\n      this.$layer.setGradient(value)\n    },\n    radius (value) {\n      if (!this.$layer || this.$layer.getRadius() === value) return\n\n      this.$layer.setRadius(value)\n    },\n    ...makeWatchers([\n      'shadow',\n      'weight',\n    ], () => function () {\n      this.scheduleRecreate()\n    }),\n  },\n}\n","<script>\n  import HeatmapLayer from 'ol/layer/Heatmap'\n  import { isEqual } from '../../util/minilo'\n  import { makeWatchers } from '../../util/vue-helpers'\n  import { vectorLayer } from '../../mixin'\n\n  export default {\n    name: 'vl-layer-heatmap',\n    mixins: [vectorLayer],\n    props: {\n      gradient: {\n        type: Array,\n        default: () => ['#0000ff', '#00ffff', '#00ff00', '#ffff00', '#f00'],\n      },\n      radius: {\n        type: Number,\n        default: 8,\n      },\n      blur: {\n        type: Number,\n        default: 15,\n      },\n      shadow: {\n        type: Number,\n        default: 250,\n      },\n      weight: {\n        type: String,\n        default: 'weight',\n      },\n    },\n    methods: {\n      createLayer () {\n        return new HeatmapLayer({\n          id: this.id,\n          minResolution: this.minResolution,\n          maxResolution: this.maxResolution,\n          opacity: this.opacity,\n          visible: this.visible,\n          extent: this.extent,\n          zIndex: this.zIndex,\n          renderMode: this.renderMode,\n          gradient: this.gradient,\n          radius: this.radius,\n          blur: this.blur,\n          shadow: this.shadow,\n          weight: this.weight,\n        })\n      },\n    },\n    watch: {\n      blur (value) {\n        if (!this.$layer || this.$layer.getBlur() === value) return\n\n        this.$layer.setBlur(value)\n      },\n      gradient (value) {\n        if (!this.$layer || isEqual(this.$layer.getGradient(), value)) return\n\n        this.$layer.setGradient(value)\n      },\n      radius (value) {\n        if (!this.$layer || this.$layer.getRadius() === value) return\n\n        this.$layer.setRadius(value)\n      },\n      ...makeWatchers([\n        'shadow',\n        'weight',\n      ], () => function () {\n        this.scheduleRecreate()\n      }),\n    },\n  }\n</script>\n","import { pick } from '../../util/minilo'\nimport Layer from './layer.vue'\n\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return\n  }\n  plugin.installed = true\n\n  options = pick(options, 'dataProjection')\n  Object.assign(Layer, options)\n\n  Vue.component(Layer.name, Layer)\n}\n\nexport default plugin\n\nexport {\n  Layer,\n  plugin as install,\n}\n"],"names":["name","mixins","vectorLayer","props","gradient","type","Array","default","radius","Number","blur","shadow","weight","String","methods","createLayer","HeatmapLayer","id","minResolution","maxResolution","opacity","visible","extent","zIndex","renderMode","watch","value","$layer","getBlur","setBlur","isEqual","getGradient","setGradient","getRadius","setRadius","makeWatchers","scheduleRecreate","plugin","Vue","options","installed","pick","Layer","component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,aAAe;EACbA,IAAI,EAAE,kBADO;EAEbC,MAAM,EAAE,CAACC,WAAD,CAFK;EAGbC,KAAK,EAAE;IACLC,QAAQ,EAAE;MACRC,IAAI,EAAEC,KADE;MAERC,OAAO,EAAE;eAAM,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,MAA7C,CAAN;;KAHN;IAKLC,MAAM,EAAE;MACNH,IAAI,EAAEI,MADA;MAENF,OAAO,EAAE;KAPN;IASLG,IAAI,EAAE;MACJL,IAAI,EAAEI,MADF;MAEJF,OAAO,EAAE;KAXN;IAaLI,MAAM,EAAE;MACNN,IAAI,EAAEI,MADA;MAENF,OAAO,EAAE;KAfN;IAiBLK,MAAM,EAAE;MACNP,IAAI,EAAEQ,MADA;MAENN,OAAO,EAAE;;GAtBA;EAyBbO,OAAO,EAAE;IACPC,WADO,yBACQ;aACN,IAAIC,YAAJ,CAAiB;QACtBC,EAAE,EAAE,KAAKA,EADa;QAEtBC,aAAa,EAAE,KAAKA,aAFE;QAGtBC,aAAa,EAAE,KAAKA,aAHE;QAItBC,OAAO,EAAE,KAAKA,OAJQ;QAKtBC,OAAO,EAAE,KAAKA,OALQ;QAMtBC,MAAM,EAAE,KAAKA,MANS;QAOtBC,MAAM,EAAE,KAAKA,MAPS;QAQtBC,UAAU,EAAE,KAAKA,UARK;QAStBpB,QAAQ,EAAE,KAAKA,QATO;QAUtBI,MAAM,EAAE,KAAKA,MAVS;QAWtBE,IAAI,EAAE,KAAKA,IAXW;QAYtBC,MAAM,EAAE,KAAKA,MAZS;QAatBC,MAAM,EAAE,KAAKA;OAbR,CAAP;;GA3BS;EA4Cba,KAAK;IACHf,IADG,gBACGgB,KADH,EACU;UACP,CAAC,KAAKC,MAAN,IAAgB,KAAKA,MAAL,CAAYC,OAAZ,OAA0BF,KAA9C,EAAqD;WAEhDC,MAAL,CAAYE,OAAZ,CAAoBH,KAApB;KAJC;IAMHtB,QANG,oBAMOsB,KANP,EAMc;UACX,CAAC,KAAKC,MAAN,IAAgBG,OAAO,CAAC,KAAKH,MAAL,CAAYI,WAAZ,EAAD,EAA4BL,KAA5B,CAA3B,EAA+D;WAE1DC,MAAL,CAAYK,WAAZ,CAAwBN,KAAxB;KATC;IAWHlB,MAXG,kBAWKkB,KAXL,EAWY;UACT,CAAC,KAAKC,MAAN,IAAgB,KAAKA,MAAL,CAAYM,SAAZ,OAA4BP,KAAhD,EAAuD;WAElDC,MAAL,CAAYO,SAAZ,CAAsBR,KAAtB;;KAECS,YAAY,CAAC,CACd,QADc,EAEd,QAFc,CAAD,EAGZ;WAAM,YAAY;WACdC,gBAAL;KADC;GAHY,CAhBZ;CA5CP;;ACHY,2BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAZ,SAASC,MAAT,CAAiBC,GAAjB,EAAoC;MAAdC,OAAc,uEAAJ,EAAI;;MAC9BF,MAAM,CAACG,SAAX,EAAsB;;;;EAGtBH,MAAM,CAACG,SAAP,GAAmB,IAAnB;EAEAD,OAAO,GAAGE,IAAI,CAACF,OAAD,EAAU,gBAAV,CAAd;;iBACcG,KAAd,EAAqBH,OAArB;;EAEAD,GAAG,CAACK,SAAJ,CAAcD,KAAK,CAAC1C,IAApB,EAA0B0C,KAA1B;;;;;;"}