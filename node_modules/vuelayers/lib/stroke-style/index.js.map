{"version":3,"file":"index.js","sources":["src/component/stroke-style/style.vue?rollup-plugin-vue=script.js","src/component/stroke-style/style.vue","src/component/stroke-style/index.js"],"sourcesContent":["\nimport Stroke from 'ol/style/Stroke'\nimport { style } from '../../mixin'\nimport { isEqual } from '../../util/minilo'\n\nconst props = {\n  color: [Array, String],\n  lineCap: {\n    type: String,\n    default: 'round', // round, butt, square\n  },\n  lineJoin: {\n    type: String,\n    default: 'round', // round, bevel, miter\n  },\n  lineDash: Array,\n  lineDashOffset: {\n    type: Number,\n    default: 0,\n  },\n  miterLimit: {\n    type: Number,\n    default: 10,\n  },\n  width: {\n    type: Number,\n    default: 1.25,\n  },\n}\n\nconst methods = {\n  /**\n   * @return {Stroke}\n   * @protected\n   */\n  createStyle () {\n    return new Stroke({\n      color: this.color,\n      lineCap: this.lineCap,\n      lineJoin: this.lineJoin,\n      lineDash: this.lineDash,\n      lineDashOffset: this.lineDashOffset,\n      miterLimit: this.miterLimit,\n      width: this.width,\n    })\n  },\n  /**\n   * @return {void}\n   * @protected\n   */\n  mount () {\n    this.$stylesContainer && this.$stylesContainer.setStroke(this)\n  },\n  /**\n   * @return {void}\n   * @protected\n   */\n  unmount () {\n    this.$stylesContainer && this.$stylesContainer.setStroke(undefined)\n  },\n}\n\nconst watch = {\n  color (value) {\n    if (this.$style && !isEqual(value, this.$style.getColor())) {\n      this.$style.setColor(value)\n      this.scheduleRefresh()\n    }\n  },\n  lineCap (value) {\n    if (this.$style && !isEqual(value, this.$style.getLineCap())) {\n      this.$style.setLineCap(value)\n      this.scheduleRefresh()\n    }\n  },\n  lineDash (value) {\n    if (this.$style && !isEqual(value, this.$style.getLineDash())) {\n      this.$style.setLineDash(value)\n      this.scheduleRefresh()\n    }\n  },\n  lineJoin (value) {\n    if (this.$style && !isEqual(value, this.$style.getLineJoin())) {\n      this.$style.setLineJoin(value)\n      this.scheduleRefresh()\n    }\n  },\n  width (value) {\n    if (this.$style && !isEqual(value, this.$style.getWidth())) {\n      this.$style.setWidth(value)\n      this.scheduleRefresh()\n    }\n  },\n}\n\nexport default {\n  name: 'vl-style-stroke',\n  mixins: [style],\n  props,\n  watch,\n  methods,\n}\n","<script>\n  import Stroke from 'ol/style/Stroke'\n  import { style } from '../../mixin'\n  import { isEqual } from '../../util/minilo'\n\n  const props = {\n    color: [Array, String],\n    lineCap: {\n      type: String,\n      default: 'round', // round, butt, square\n    },\n    lineJoin: {\n      type: String,\n      default: 'round', // round, bevel, miter\n    },\n    lineDash: Array,\n    lineDashOffset: {\n      type: Number,\n      default: 0,\n    },\n    miterLimit: {\n      type: Number,\n      default: 10,\n    },\n    width: {\n      type: Number,\n      default: 1.25,\n    },\n  }\n\n  const methods = {\n    /**\n     * @return {Stroke}\n     * @protected\n     */\n    createStyle () {\n      return new Stroke({\n        color: this.color,\n        lineCap: this.lineCap,\n        lineJoin: this.lineJoin,\n        lineDash: this.lineDash,\n        lineDashOffset: this.lineDashOffset,\n        miterLimit: this.miterLimit,\n        width: this.width,\n      })\n    },\n    /**\n     * @return {void}\n     * @protected\n     */\n    mount () {\n      this.$stylesContainer && this.$stylesContainer.setStroke(this)\n    },\n    /**\n     * @return {void}\n     * @protected\n     */\n    unmount () {\n      this.$stylesContainer && this.$stylesContainer.setStroke(undefined)\n    },\n  }\n\n  const watch = {\n    color (value) {\n      if (this.$style && !isEqual(value, this.$style.getColor())) {\n        this.$style.setColor(value)\n        this.scheduleRefresh()\n      }\n    },\n    lineCap (value) {\n      if (this.$style && !isEqual(value, this.$style.getLineCap())) {\n        this.$style.setLineCap(value)\n        this.scheduleRefresh()\n      }\n    },\n    lineDash (value) {\n      if (this.$style && !isEqual(value, this.$style.getLineDash())) {\n        this.$style.setLineDash(value)\n        this.scheduleRefresh()\n      }\n    },\n    lineJoin (value) {\n      if (this.$style && !isEqual(value, this.$style.getLineJoin())) {\n        this.$style.setLineJoin(value)\n        this.scheduleRefresh()\n      }\n    },\n    width (value) {\n      if (this.$style && !isEqual(value, this.$style.getWidth())) {\n        this.$style.setWidth(value)\n        this.scheduleRefresh()\n      }\n    },\n  }\n\n  export default {\n    name: 'vl-style-stroke',\n    mixins: [style],\n    props,\n    watch,\n    methods,\n  }\n</script>\n","import { pick } from '../../util/minilo'\nimport Style from './style.vue'\n\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return\n  }\n  plugin.installed = true\n\n  options = pick(options, 'dataProjection')\n  Object.assign(Style, options)\n\n  Vue.component(Style.name, Style)\n}\n\nexport default plugin\n\nexport {\n  Style,\n  plugin as install,\n}\n"],"names":["props","color","Array","String","lineCap","type","default","lineJoin","lineDash","lineDashOffset","Number","miterLimit","width","methods","createStyle","Stroke","mount","$stylesContainer","setStroke","unmount","undefined","watch","value","$style","isEqual","getColor","setColor","scheduleRefresh","getLineCap","setLineCap","getLineDash","setLineDash","getLineJoin","setLineJoin","getWidth","setWidth","name","mixins","style","plugin","Vue","options","installed","pick","Style","component"],"mappings":"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"}