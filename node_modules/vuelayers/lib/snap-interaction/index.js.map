{"version":3,"file":"index.js","sources":["src/component/snap-interaction/interaction.vue?rollup-plugin-vue=script.js","src/component/snap-interaction/interaction.vue","src/component/snap-interaction/index.js"],"sourcesContent":["\nimport { Snap as SnapInteraction } from 'ol/interaction'\nimport { Source } from 'ol/source'\nimport { interaction } from '../../mixin'\nimport { makeWatchers } from '../../util/vue-helpers'\nimport { instanceOf } from '../../util/assert'\n\n/**\n * @alias module:snap-interaction/interaction\n * @title vl-interaction-snap\n * @vueProto\n */\nexport default {\n  name: 'vl-interaction-snap',\n  mixins: [interaction],\n  props: {\n    /**\n     * Target source identifier from IdentityMap.\n     * @type {string}\n     */\n    source: {\n      type: String,\n      required: true,\n    },\n    /**\n     * Snap to edges\n     * @type {boolean}\n     */\n    edge: {\n      type: Boolean,\n      default: true,\n    },\n    /**\n     * Snap to vertices.\n     * @type {boolean}\n     */\n    vertex: {\n      type: Boolean,\n      default: true,\n    },\n    /**\n     * Pixel tolerance for considering the pointer close enough to a segment or vertex for snapping.\n     * @type {number}\n     */\n    pixelTolerance: {\n      type: Number,\n      default: 10,\n    },\n  },\n  watch: {\n    ...makeWatchers(['source'], () => function () {\n      this.scheduleRecreate()\n    }),\n  },\n  methods: {\n    /**\n     * @return {Promise<Snap>}\n     * @protected\n     */\n    async createInteraction () {\n      let source = await this.getInstance(this.source)\n      instanceOf(source, Source, `Source \"${this.source}\" doesn't exists in the identity map.`)\n\n      return new SnapInteraction({\n        source,\n      })\n    },\n    /**\n     * @return {void}\n     * @protected\n     */\n    mount () {\n      this::interaction.methods.mount()\n    },\n    /**\n     * @return {void}\n     * @protected\n     */\n    unmount () {\n      this::interaction.methods.unmount()\n    },\n    /**\n     * @return {void}\n     * @protected\n     */\n    subscribeAll () {\n    },\n  },\n}\n","<script>\n  import { Snap as SnapInteraction } from 'ol/interaction'\n  import { Source } from 'ol/source'\n  import { interaction } from '../../mixin'\n  import { makeWatchers } from '../../util/vue-helpers'\n  import { instanceOf } from '../../util/assert'\n\n  /**\n   * @alias module:snap-interaction/interaction\n   * @title vl-interaction-snap\n   * @vueProto\n   */\n  export default {\n    name: 'vl-interaction-snap',\n    mixins: [interaction],\n    props: {\n      /**\n       * Target source identifier from IdentityMap.\n       * @type {string}\n       */\n      source: {\n        type: String,\n        required: true,\n      },\n      /**\n       * Snap to edges\n       * @type {boolean}\n       */\n      edge: {\n        type: Boolean,\n        default: true,\n      },\n      /**\n       * Snap to vertices.\n       * @type {boolean}\n       */\n      vertex: {\n        type: Boolean,\n        default: true,\n      },\n      /**\n       * Pixel tolerance for considering the pointer close enough to a segment or vertex for snapping.\n       * @type {number}\n       */\n      pixelTolerance: {\n        type: Number,\n        default: 10,\n      },\n    },\n    watch: {\n      ...makeWatchers(['source'], () => function () {\n        this.scheduleRecreate()\n      }),\n    },\n    methods: {\n      /**\n       * @return {Promise<Snap>}\n       * @protected\n       */\n      async createInteraction () {\n        let source = await this.getInstance(this.source)\n        instanceOf(source, Source, `Source \"${this.source}\" doesn't exists in the identity map.`)\n\n        return new SnapInteraction({\n          source,\n        })\n      },\n      /**\n       * @return {void}\n       * @protected\n       */\n      mount () {\n        this::interaction.methods.mount()\n      },\n      /**\n       * @return {void}\n       * @protected\n       */\n      unmount () {\n        this::interaction.methods.unmount()\n      },\n      /**\n       * @return {void}\n       * @protected\n       */\n      subscribeAll () {\n      },\n    },\n  }\n</script>\n","import { pick } from '../../util/minilo'\nimport Interaction from './interaction.vue'\n\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return\n  }\n  plugin.installed = true\n\n  options = pick(options, 'dataProjection')\n  Object.assign(Interaction, options)\n\n  Vue.component(Interaction.name, Interaction)\n}\n\nexport default plugin\n\nexport {\n  Interaction,\n  plugin as install,\n}\n"],"names":["name","mixins","interaction","props","source","type","String","required","edge","Boolean","default","vertex","pixelTolerance","Number","watch","makeWatchers","scheduleRecreate","methods","createInteraction","getInstance","instanceOf","Source","SnapInteraction","mount","unmount","subscribeAll","plugin","Vue","options","installed","pick","Interaction","component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA;;;;;;AAKA,aAAe;EACbA,IAAI,EAAE,qBADO;EAEbC,MAAM,EAAE,CAACC,WAAD,CAFK;EAGbC,KAAK,EAAE;;;;;IAKLC,MAAM,EAAE;MACNC,IAAI,EAAEC,MADA;MAENC,QAAQ,EAAE;KAPP;;;;;;IAaLC,IAAI,EAAE;MACJH,IAAI,EAAEI,OADF;MAEJC,OAAO,EAAE;KAfN;;;;;;IAqBLC,MAAM,EAAE;MACNN,IAAI,EAAEI,OADA;MAENC,OAAO,EAAE;KAvBN;;;;;;IA6BLE,cAAc,EAAE;MACdP,IAAI,EAAEQ,MADQ;MAEdH,OAAO,EAAE;;GAlCA;EAqCbI,KAAK,oBACAC,YAAY,CAAC,CAAC,QAAD,CAAD,EAAa;WAAM,YAAY;WACvCC,gBAAL;KAD0B;GAAb,CADZ,CArCQ;EA0CbC,OAAO,EAAE;;;;;IAKDC,iBALC,+BAKoB;;;;;;;;;;uBACN,KAAI,CAACC,WAAL,CAAiB,KAAI,CAACf,MAAtB,CADM;;;gBACrBA,MADqB;gBAEzBgB,UAAU,CAAChB,MAAD,EAASiB,MAAT,qBAA4B,KAAI,CAACjB,MAAjC,4CAAV;iDAEO,IAAIkB,IAAJ,CAAoB;kBACzBlB,MAAM,EAANA;iBADK,CAJkB;;;;;;;;;KALpB;;;;;;IAiBPmB,KAjBO,mBAiBE;MACDrB,WAAW,CAACe,OAAZ,CAAoBM,KAA1B;KAlBK;;;;;;IAwBPC,OAxBO,qBAwBI;MACHtB,WAAW,CAACe,OAAZ,CAAoBO,OAA1B;KAzBK;;;;;;IA+BPC,YA/BO,0BA+BS;;CAzEpB;;ACTY,2BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAZ,SAASC,MAAT,CAAiBC,GAAjB,EAAoC;MAAdC,OAAc,uEAAJ,EAAI;;MAC9BF,MAAM,CAACG,SAAX,EAAsB;;;;EAGtBH,MAAM,CAACG,SAAP,GAAmB,IAAnB;EAEAD,OAAO,GAAGE,IAAI,CAACF,OAAD,EAAU,gBAAV,CAAd;;iBACcG,WAAd,EAA2BH,OAA3B;;EAEAD,GAAG,CAACK,SAAJ,CAAcD,WAAW,CAAC/B,IAA1B,EAAgC+B,WAAhC;;;;;;"}