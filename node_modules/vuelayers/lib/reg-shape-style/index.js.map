{"version":3,"file":"index.js","sources":["src/component/reg-shape-style/style.vue?rollup-plugin-vue=script.js","src/component/reg-shape-style/style.vue","src/component/reg-shape-style/index.js"],"sourcesContent":["\nimport RegularShape from 'ol/style/RegularShape'\nimport Vue from 'vue'\nimport { imageStyle, withFillStrokeStyle } from '../../mixin'\nimport { isEqual } from '../../util/minilo'\nimport mergeDescriptors from '../../util/multi-merge-descriptors'\n\nconst props = {\n  points: {\n    type: Number,\n    required: true,\n  },\n  radius: Number,\n  radius1: Number,\n  radius2: Number,\n  angle: {\n    type: Number,\n    default: 0,\n  },\n  rotation: {\n    type: Number,\n    default: 0,\n  },\n  rotateWithView: {\n    type: Boolean,\n    default: false,\n  },\n}\n\nconst methods = {\n  /**\n   * @return {RegularShape}\n   * @protected\n   */\n  createStyle () {\n    return RegularShape({\n      points: this.points,\n      radius: this.radius,\n      radius1: this.radius1,\n      radius2: this.radius2,\n      angle: this.angle,\n      rotation: this.rotation,\n      rotateWithView: this.rotateWithView,\n      fill: this._fill,\n      stroke: this._stroke,\n    })\n  },\n  /**\n   * @returns {Object}\n   * @protected\n   */\n  getServices () {\n    const vm = this\n\n    return mergeDescriptors(this::imageStyle.methods.getServices(), {\n      get stylesContainer () { return vm },\n    })\n  },\n  /**\n   * @param {Fill|Vue|undefined} fill\n   * @return {void}\n   */\n  setFill (fill) {\n    fill = fill instanceof Vue ? fill.$style : fill\n\n    if (fill !== this._fill) {\n      this._fill = fill\n      this.scheduleRefresh()\n    }\n  },\n  /**\n   * @param {Stroke|Vue|undefined} stroke\n   * @return {void}\n   */\n  setStroke (stroke) {\n    stroke = stroke instanceof Vue ? stroke.$style : stroke\n\n    if (stroke !== this._stroke) {\n      this._stroke = stroke\n      this.scheduleRefresh()\n    }\n  },\n}\n\nconst watch = {\n  points (value) {\n    if (this.$style && !isEqual(value, this.$style.getPoints())) {\n      this.scheduleRefresh()\n    }\n  },\n  radius (value) {\n    if (this.$style && !isEqual(value, this.$style.getRadius())) {\n      this.scheduleRefresh()\n    }\n  },\n  radius1 (value) {\n    if (this.$style && !isEqual(value, this.$style.getRadius())) {\n      this.scheduleRefresh()\n    }\n  },\n  radius2 (value) {\n    if (this.$style && !isEqual(value, this.$style.getRadius2())) {\n      this.scheduleRefresh()\n    }\n  },\n  angle (value) {\n    if (this.$style && !isEqual(value, this.$style.getAngle())) {\n      this.scheduleRefresh()\n    }\n  },\n  rotation (value) {\n    if (this.$style && !isEqual(value, this.$style.getRotation())) {\n      this.scheduleRefresh()\n    }\n  },\n  rotateWithView (value) {\n    if (this.$style && !isEqual(value, this.$style.getRotateWithView())) {\n      this.scheduleRefresh()\n    }\n  },\n}\n\nexport default {\n  name: 'vl-style-reg-shape',\n  mixins: [imageStyle, withFillStrokeStyle],\n  props,\n  methods,\n  watch,\n}\n","<script>\n  import RegularShape from 'ol/style/RegularShape'\n  import Vue from 'vue'\n  import { imageStyle, withFillStrokeStyle } from '../../mixin'\n  import { isEqual } from '../../util/minilo'\n  import mergeDescriptors from '../../util/multi-merge-descriptors'\n\n  const props = {\n    points: {\n      type: Number,\n      required: true,\n    },\n    radius: Number,\n    radius1: Number,\n    radius2: Number,\n    angle: {\n      type: Number,\n      default: 0,\n    },\n    rotation: {\n      type: Number,\n      default: 0,\n    },\n    rotateWithView: {\n      type: Boolean,\n      default: false,\n    },\n  }\n\n  const methods = {\n    /**\n     * @return {RegularShape}\n     * @protected\n     */\n    createStyle () {\n      return RegularShape({\n        points: this.points,\n        radius: this.radius,\n        radius1: this.radius1,\n        radius2: this.radius2,\n        angle: this.angle,\n        rotation: this.rotation,\n        rotateWithView: this.rotateWithView,\n        fill: this._fill,\n        stroke: this._stroke,\n      })\n    },\n    /**\n     * @returns {Object}\n     * @protected\n     */\n    getServices () {\n      const vm = this\n\n      return mergeDescriptors(this::imageStyle.methods.getServices(), {\n        get stylesContainer () { return vm },\n      })\n    },\n    /**\n     * @param {Fill|Vue|undefined} fill\n     * @return {void}\n     */\n    setFill (fill) {\n      fill = fill instanceof Vue ? fill.$style : fill\n\n      if (fill !== this._fill) {\n        this._fill = fill\n        this.scheduleRefresh()\n      }\n    },\n    /**\n     * @param {Stroke|Vue|undefined} stroke\n     * @return {void}\n     */\n    setStroke (stroke) {\n      stroke = stroke instanceof Vue ? stroke.$style : stroke\n\n      if (stroke !== this._stroke) {\n        this._stroke = stroke\n        this.scheduleRefresh()\n      }\n    },\n  }\n\n  const watch = {\n    points (value) {\n      if (this.$style && !isEqual(value, this.$style.getPoints())) {\n        this.scheduleRefresh()\n      }\n    },\n    radius (value) {\n      if (this.$style && !isEqual(value, this.$style.getRadius())) {\n        this.scheduleRefresh()\n      }\n    },\n    radius1 (value) {\n      if (this.$style && !isEqual(value, this.$style.getRadius())) {\n        this.scheduleRefresh()\n      }\n    },\n    radius2 (value) {\n      if (this.$style && !isEqual(value, this.$style.getRadius2())) {\n        this.scheduleRefresh()\n      }\n    },\n    angle (value) {\n      if (this.$style && !isEqual(value, this.$style.getAngle())) {\n        this.scheduleRefresh()\n      }\n    },\n    rotation (value) {\n      if (this.$style && !isEqual(value, this.$style.getRotation())) {\n        this.scheduleRefresh()\n      }\n    },\n    rotateWithView (value) {\n      if (this.$style && !isEqual(value, this.$style.getRotateWithView())) {\n        this.scheduleRefresh()\n      }\n    },\n  }\n\n  export default {\n    name: 'vl-style-reg-shape',\n    mixins: [imageStyle, withFillStrokeStyle],\n    props,\n    methods,\n    watch,\n  }\n</script>\n","import { pick } from '../../util/minilo'\nimport Style from './style.vue'\n\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return\n  }\n  plugin.installed = true\n\n  options = pick(options, 'dataProjection')\n  Object.assign(Style, options)\n\n  Vue.component(Style.name, Style)\n}\n\nexport default plugin\n\nexport {\n  Style,\n  plugin as install,\n}\n"],"names":["props","points","type","Number","required","radius","radius1","radius2","angle","default","rotation","rotateWithView","Boolean","methods","createStyle","RegularShape","fill","_fill","stroke","_stroke","getServices","vm","mergeDescriptors","imageStyle","stylesContainer","setFill","Vue","$style","scheduleRefresh","setStroke","watch","value","isEqual","getPoints","getRadius","getRadius2","getAngle","getRotation","getRotateWithView","name","mixins","withFillStrokeStyle","plugin","options","installed","pick","Style","component"],"mappings":"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"}