{"version":3,"file":"index.js","sources":["src/component/graticule/graticule.vue?rollup-plugin-vue=script.js","src/component/graticule/graticule.vue","src/component/graticule/index.js"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n\nimport Vue from 'vue'\nimport Graticule from 'ol/Graticule'\nimport { throttleTime } from 'rxjs/operators'\nimport { observableFromOlEvent } from '../../rx-ext'\nimport { olCmp, useMapCmp, projTransforms } from '../../mixin'\nimport { hasGraticule, hasMap } from '../../util/assert'\nimport { firstEl, map } from '../../util/minilo'\nimport mergeDescriptors from '../../util/multi-merge-descriptors'\nimport { makeWatchers } from '../../util/vue-helpers'\n\nexport default {\n  name: 'vl-graticule',\n  mixins: [olCmp, useMapCmp, projTransforms],\n  props: {\n    maxLines: {\n      type: Number,\n      default: 100,\n    },\n    targetSize: {\n      type: Number,\n      default: 100,\n    },\n    showLabels: {\n      type: Boolean,\n      default: false,\n    },\n    lonLabelFormatter: Function,\n    latLabelFormatter: Function,\n    lonLabelPosition: {\n      type: Number,\n      default: 0,\n    },\n    latLabelPosition: {\n      type: Number,\n      default: 1,\n    },\n    intervals: {\n      type: Array,\n      default: () => [90, 45, 30, 20, 10, 5, 2, 1, 0.5, 0.2, 0.1, 0.05, 0.01, 0.005, 0.002, 0.001],\n    },\n  },\n  computed: {\n    meridians () {\n      if (this.$graticule && this.rev) {\n        return map(this.getMeridians(), meridian => this.lineToDataProj(meridian.getCoordinates()))\n      }\n\n      return []\n    },\n    parallels () {\n      if (this.$graticule && this.rev) {\n        return map(this.getParallels(), parallel => this.lineToDataProj(parallel.getCoordinates()))\n      }\n\n      return []\n    },\n  },\n  methods: {\n    createOlObject () {\n      const graticule = new Graticule({\n        maxLines: this.maxLines,\n        targetSize: this.targetSize,\n        showLabels: this.showLabels,\n        strokeStyle: this._strokeStyle,\n        lonLabelFormatter: this.lonLabelFormatter,\n        latLabelFormatter: this.latLabelFormatter,\n        lonLabelPosition: this.lonLabelPosition,\n        latLabelPosition: this.latLabelPosition,\n        lonLabelStyle: this._lonLabelStyle,\n        latLabelStyle: this._latLabelStyle,\n        intervals: this.intervals,\n      })\n\n      graticule.id = this.id\n\n      return graticule\n    },\n    /**\n     * @return {Promise} Resolves when initialization completes\n     * @protected\n     */\n    init () {\n      return this::olCmp.methods.init()\n    },\n    /**\n     * @return {void|Promise<void>}\n     * @protected\n     */\n    deinit () {\n      return this::olCmp.methods.deinit()\n    },\n    /**\n     * @return {void}\n     * @protected\n     */\n    mount () {\n      this.$map && this.$graticule.setMap(this.$map)\n      this.subscribeAll()\n    },\n    /**\n     * @return {void}\n     * @protected\n     */\n    unmount () {\n      this.unsubscribeAll()\n      this.$graticule.setMap(undefined)\n    },\n    getMeridians () {\n      hasGraticule(this)\n\n      return this.$graticule.getMeridians()\n    },\n    getParallels () {\n      hasGraticule(this)\n\n      return this.$graticule.getParallels()\n    },\n    setStroke (stroke) {\n      stroke = stroke instanceof Vue ? stroke.$style : stroke\n\n      if (stroke !== this._strokeStyle) {\n        this._strokeStyle = stroke\n        this.scheduleRefresh()\n      }\n    },\n    setText (text) {\n      text = text instanceof Vue ? text.$style : text\n\n      let vm\n      if (text) {\n        vm = firstEl(text[this.$options.VM_PROP])\n      }\n\n      const vmMatcher = vnode => vnode.componentInstance && vnode.componentInstance === vm\n\n      if (\n        (text == null && this.$slots.lon == null) ||\n        (Array.isArray(this.$slots.lon) && this.$slots.lon.some(vmMatcher))\n      ) {\n        if (text !== this._lonLabelStyle) {\n          this._lonLabelStyle = text\n          this.scheduleRefresh()\n        }\n      } else if (\n        (text == null && this.$slots.lat == null) ||\n        (Array.isArray(this.$slots.lat) && this.$slots.lat.some(vmMatcher))\n      ) {\n        if (text !== this._latLabelStyle) {\n          this._latLabelStyle = text\n          this.scheduleRefresh()\n        }\n      }\n    },\n    getServices () {\n      const vm = this\n\n      return mergeDescriptors(this::olCmp.methods.getServices(), {\n        get stylesContainer () { return vm },\n      })\n    },\n    /**\n     * @return {Promise}\n     */\n    refresh () {\n      return this.recreate()\n    },\n    subscribeAll () {\n      this::subscribeToEvents()\n    },\n  },\n  watch: {\n    id (value) {\n      if (!this.$graticule || value === this.$graticule.id) {\n        return\n      }\n\n      this.$graticule.id = value\n    },\n    ...makeWatchers([\n      'maxLines',\n      'targetSize',\n      'showLabels',\n      'lonLabelFormatter',\n      'latLabelFormatter',\n      'lonLabelPosition',\n      'latLabelPosition',\n      'intervals',\n    ], () => function () {\n      this.scheduleRefresh()\n    }),\n  },\n  stubVNode: {\n    empty: false,\n    attrs () {\n      return {\n        id: this.vmId,\n        class: this.cmpName,\n      }\n    },\n  },\n  created () {\n    this::defineServices()\n  },\n}\n\nfunction defineServices () {\n  Object.defineProperties(this, {\n    $graticule: {\n      enumerable: true,\n      get: () => this.$olObject,\n    },\n    $map: {\n      enumerable: true,\n      get: () => this.$services && this.$services.map,\n    },\n    $view: {\n      enumerable: true,\n      get: () => this.$services && this.$services.view,\n    },\n  })\n}\n\nfunction subscribeToEvents () {\n  hasMap(this)\n\n  const ft = 1000 / 60\n  const postcompose = observableFromOlEvent(this.$map, 'postcompose')\n    .pipe(throttleTime(ft))\n\n  this.subscribeTo(postcompose, () => {\n    ++this.rev\n  })\n}\n","<template>\n  <i :id=\"vmId\" :class=\"cmpName\" style=\"display: none !important;\">\n    <slot name=\"lon\"></slot>\n    <slot name=\"lat\"></slot>\n    <slot name=\"stroke\"></slot>\n  </i>\n</template>\n\n<script>\n  import Vue from 'vue'\n  import Graticule from 'ol/Graticule'\n  import { throttleTime } from 'rxjs/operators'\n  import { observableFromOlEvent } from '../../rx-ext'\n  import { olCmp, useMapCmp, projTransforms } from '../../mixin'\n  import { hasGraticule, hasMap } from '../../util/assert'\n  import { firstEl, map } from '../../util/minilo'\n  import mergeDescriptors from '../../util/multi-merge-descriptors'\n  import { makeWatchers } from '../../util/vue-helpers'\n\n  export default {\n    name: 'vl-graticule',\n    mixins: [olCmp, useMapCmp, projTransforms],\n    props: {\n      maxLines: {\n        type: Number,\n        default: 100,\n      },\n      targetSize: {\n        type: Number,\n        default: 100,\n      },\n      showLabels: {\n        type: Boolean,\n        default: false,\n      },\n      lonLabelFormatter: Function,\n      latLabelFormatter: Function,\n      lonLabelPosition: {\n        type: Number,\n        default: 0,\n      },\n      latLabelPosition: {\n        type: Number,\n        default: 1,\n      },\n      intervals: {\n        type: Array,\n        default: () => [90, 45, 30, 20, 10, 5, 2, 1, 0.5, 0.2, 0.1, 0.05, 0.01, 0.005, 0.002, 0.001],\n      },\n    },\n    computed: {\n      meridians () {\n        if (this.$graticule && this.rev) {\n          return map(this.getMeridians(), meridian => this.lineToDataProj(meridian.getCoordinates()))\n        }\n\n        return []\n      },\n      parallels () {\n        if (this.$graticule && this.rev) {\n          return map(this.getParallels(), parallel => this.lineToDataProj(parallel.getCoordinates()))\n        }\n\n        return []\n      },\n    },\n    methods: {\n      createOlObject () {\n        const graticule = new Graticule({\n          maxLines: this.maxLines,\n          targetSize: this.targetSize,\n          showLabels: this.showLabels,\n          strokeStyle: this._strokeStyle,\n          lonLabelFormatter: this.lonLabelFormatter,\n          latLabelFormatter: this.latLabelFormatter,\n          lonLabelPosition: this.lonLabelPosition,\n          latLabelPosition: this.latLabelPosition,\n          lonLabelStyle: this._lonLabelStyle,\n          latLabelStyle: this._latLabelStyle,\n          intervals: this.intervals,\n        })\n\n        graticule.id = this.id\n\n        return graticule\n      },\n      /**\n       * @return {Promise} Resolves when initialization completes\n       * @protected\n       */\n      init () {\n        return this::olCmp.methods.init()\n      },\n      /**\n       * @return {void|Promise<void>}\n       * @protected\n       */\n      deinit () {\n        return this::olCmp.methods.deinit()\n      },\n      /**\n       * @return {void}\n       * @protected\n       */\n      mount () {\n        this.$map && this.$graticule.setMap(this.$map)\n        this.subscribeAll()\n      },\n      /**\n       * @return {void}\n       * @protected\n       */\n      unmount () {\n        this.unsubscribeAll()\n        this.$graticule.setMap(undefined)\n      },\n      getMeridians () {\n        hasGraticule(this)\n\n        return this.$graticule.getMeridians()\n      },\n      getParallels () {\n        hasGraticule(this)\n\n        return this.$graticule.getParallels()\n      },\n      setStroke (stroke) {\n        stroke = stroke instanceof Vue ? stroke.$style : stroke\n\n        if (stroke !== this._strokeStyle) {\n          this._strokeStyle = stroke\n          this.scheduleRefresh()\n        }\n      },\n      setText (text) {\n        text = text instanceof Vue ? text.$style : text\n\n        let vm\n        if (text) {\n          vm = firstEl(text[this.$options.VM_PROP])\n        }\n\n        const vmMatcher = vnode => vnode.componentInstance && vnode.componentInstance === vm\n\n        if (\n          (text == null && this.$slots.lon == null) ||\n          (Array.isArray(this.$slots.lon) && this.$slots.lon.some(vmMatcher))\n        ) {\n          if (text !== this._lonLabelStyle) {\n            this._lonLabelStyle = text\n            this.scheduleRefresh()\n          }\n        } else if (\n          (text == null && this.$slots.lat == null) ||\n          (Array.isArray(this.$slots.lat) && this.$slots.lat.some(vmMatcher))\n        ) {\n          if (text !== this._latLabelStyle) {\n            this._latLabelStyle = text\n            this.scheduleRefresh()\n          }\n        }\n      },\n      getServices () {\n        const vm = this\n\n        return mergeDescriptors(this::olCmp.methods.getServices(), {\n          get stylesContainer () { return vm },\n        })\n      },\n      /**\n       * @return {Promise}\n       */\n      refresh () {\n        return this.recreate()\n      },\n      subscribeAll () {\n        this::subscribeToEvents()\n      },\n    },\n    watch: {\n      id (value) {\n        if (!this.$graticule || value === this.$graticule.id) {\n          return\n        }\n\n        this.$graticule.id = value\n      },\n      ...makeWatchers([\n        'maxLines',\n        'targetSize',\n        'showLabels',\n        'lonLabelFormatter',\n        'latLabelFormatter',\n        'lonLabelPosition',\n        'latLabelPosition',\n        'intervals',\n      ], () => function () {\n        this.scheduleRefresh()\n      }),\n    },\n    stubVNode: {\n      empty: false,\n      attrs () {\n        return {\n          id: this.vmId,\n          class: this.cmpName,\n        }\n      },\n    },\n    created () {\n      this::defineServices()\n    },\n  }\n\n  function defineServices () {\n    Object.defineProperties(this, {\n      $graticule: {\n        enumerable: true,\n        get: () => this.$olObject,\n      },\n      $map: {\n        enumerable: true,\n        get: () => this.$services && this.$services.map,\n      },\n      $view: {\n        enumerable: true,\n        get: () => this.$services && this.$services.view,\n      },\n    })\n  }\n\n  function subscribeToEvents () {\n    hasMap(this)\n\n    const ft = 1000 / 60\n    const postcompose = observableFromOlEvent(this.$map, 'postcompose')\n      .pipe(throttleTime(ft))\n\n    this.subscribeTo(postcompose, () => {\n      ++this.rev\n    })\n  }\n</script>\n","import { pick } from '../../util/minilo'\nimport Graticule from './graticule.vue'\n\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return\n  }\n  plugin.installed = true\n\n  options = pick(options, 'dataProjection')\n  Object.assign(Graticule, options)\n\n  Vue.component(Graticule.name, Graticule)\n}\n\nexport default plugin\n\nexport {\n  Graticule,\n  plugin as install,\n}\n"],"names":["name","mixins","olCmp","useMapCmp","projTransforms","props","maxLines","type","Number","default","targetSize","showLabels","Boolean","lonLabelFormatter","Function","latLabelFormatter","lonLabelPosition","latLabelPosition","intervals","Array","computed","meridians","$graticule","rev","map","getMeridians","meridian","lineToDataProj","getCoordinates","parallels","getParallels","parallel","methods","createOlObject","graticule","Graticule","strokeStyle","_strokeStyle","lonLabelStyle","_lonLabelStyle","latLabelStyle","_latLabelStyle","id","init","deinit","mount","$map","setMap","subscribeAll","unmount","unsubscribeAll","undefined","hasGraticule","setStroke","stroke","Vue","$style","scheduleRefresh","setText","text","vm","firstEl","$options","VM_PROP","vmMatcher","vnode","componentInstance","$slots","lon","lat","getServices","mergeDescriptors","stylesContainer","refresh","recreate","subscribeToEvents","watch","value","makeWatchers","stubVNode","empty","attrs","vmId","class","cmpName","created","defineServices","enumerable","get","$olObject","$services","$view","view","hasMap","ft","postcompose","observableFromOlEvent","pipe","throttleTime","subscribeTo","plugin","options","installed","pick","component"],"mappings":"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"}