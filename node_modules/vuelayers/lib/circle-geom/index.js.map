{"version":3,"file":"index.js","sources":["src/component/circle-geom/geom.vue?rollup-plugin-vue=script.js","src/component/circle-geom/geom.vue","src/component/circle-geom/index.js"],"sourcesContent":["\nimport Circle from 'ol/geom/Circle'\nimport { geometry } from '../../mixin'\nimport { GEOMETRY_TYPE } from '../../ol-ext'\nimport { hasGeometry } from '../../util/assert'\nimport { constant } from '../../util/minilo'\n\n/**\n * @alias module:circle-geom/geom\n * @title vl-geom-circle\n * @vueProto\n */\nexport default {\n  name: 'vl-geom-circle',\n  mixins: [geometry],\n  props: {\n    coordinates: {\n      type: Array,\n      required: true,\n      validator: value => value.length === 2,\n    },\n    radius: {\n      type: Number,\n      default: 0,\n    },\n  },\n  computed: {\n    type: constant(GEOMETRY_TYPE.POINT),\n    /**\n     * @type {Array|undefined}\n     */\n    coordinatesViewProj () {\n      if (this.rev && this.$geometry) {\n        return this.$geometry.getCenter()\n      }\n    },\n  },\n  methods: {\n    /**\n     * @return {Circle}\n     * @protected\n     */\n    createGeometry () {\n      return new Circle(this.toViewProj(this.coordinates), this.radius)\n    },\n    /**\n     * @return {Coordinate}\n     */\n    getCoordinates () {\n      hasGeometry(this)\n\n      return this.toDataProj(this.$geometry.getCenter())\n    },\n    /**\n     * @param {Coordinate} coordinate\n     */\n    setCoordinates (coordinate) {\n      hasGeometry(this)\n\n      this.$geometry.setCenter(this.toViewProj(coordinate))\n    },\n  },\n  watch: {\n    radius (value) {\n      if (!this.$geometry) return\n\n      if (value !== this.$geometry.getRadius()) {\n        this.$geometry.setRadius(value)\n      }\n    },\n  },\n}\n","<script>\n  import Circle from 'ol/geom/Circle'\n  import { geometry } from '../../mixin'\n  import { GEOMETRY_TYPE } from '../../ol-ext'\n  import { hasGeometry } from '../../util/assert'\n  import { constant } from '../../util/minilo'\n\n  /**\n   * @alias module:circle-geom/geom\n   * @title vl-geom-circle\n   * @vueProto\n   */\n  export default {\n    name: 'vl-geom-circle',\n    mixins: [geometry],\n    props: {\n      coordinates: {\n        type: Array,\n        required: true,\n        validator: value => value.length === 2,\n      },\n      radius: {\n        type: Number,\n        default: 0,\n      },\n    },\n    computed: {\n      type: constant(GEOMETRY_TYPE.POINT),\n      /**\n       * @type {Array|undefined}\n       */\n      coordinatesViewProj () {\n        if (this.rev && this.$geometry) {\n          return this.$geometry.getCenter()\n        }\n      },\n    },\n    methods: {\n      /**\n       * @return {Circle}\n       * @protected\n       */\n      createGeometry () {\n        return new Circle(this.toViewProj(this.coordinates), this.radius)\n      },\n      /**\n       * @return {Coordinate}\n       */\n      getCoordinates () {\n        hasGeometry(this)\n\n        return this.toDataProj(this.$geometry.getCenter())\n      },\n      /**\n       * @param {Coordinate} coordinate\n       */\n      setCoordinates (coordinate) {\n        hasGeometry(this)\n\n        this.$geometry.setCenter(this.toViewProj(coordinate))\n      },\n    },\n    watch: {\n      radius (value) {\n        if (!this.$geometry) return\n\n        if (value !== this.$geometry.getRadius()) {\n          this.$geometry.setRadius(value)\n        }\n      },\n    },\n  }\n</script>\n","import { pick } from '../../util/minilo'\nimport Geom from './geom.vue'\n\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return\n  }\n  plugin.installed = true\n\n  options = pick(options, 'dataProjection')\n  Object.assign(Geom, options)\n\n  Vue.component(Geom.name, Geom)\n}\n\nexport default plugin\n\nexport {\n  Geom,\n  plugin as install,\n}\n"],"names":["name","mixins","geometry","props","coordinates","type","Array","required","validator","value","length","radius","Number","default","computed","constant","GEOMETRY_TYPE","POINT","coordinatesViewProj","rev","$geometry","getCenter","methods","createGeometry","Circle","toViewProj","getCoordinates","hasGeometry","toDataProj","setCoordinates","coordinate","setCenter","watch","getRadius","setRadius","plugin","Vue","options","installed","pick","Geom","component"],"mappings":";;;;;;;;;;;;;;;;;;AAOA;;;;;;AAKA,aAAe;EACbA,IAAI,EAAE,gBADO;EAEbC,MAAM,EAAE,CAACC,QAAD,CAFK;EAGbC,KAAK,EAAE;IACLC,WAAW,EAAE;MACXC,IAAI,EAAEC,KADK;MAEXC,QAAQ,EAAE,IAFC;MAGXC,SAAS,EAAE,mBAAAC,KAAK;eAAIA,KAAK,CAACC,MAAN,KAAiB,CAArB;;KAJb;IAMLC,MAAM,EAAE;MACNN,IAAI,EAAEO,MADA;MAENC,OAAO,EAAE;;GAXA;EAcbC,QAAQ,EAAE;IACRT,IAAI,EAAEU,QAAQ,CAACC,aAAa,CAACC,KAAf,CADN;;;;;IAKRC,mBALQ,iCAKe;UACjB,KAAKC,GAAL,IAAY,KAAKC,SAArB,EAAgC;eACvB,KAAKA,SAAL,CAAeC,SAAf,EAAP;;;GArBO;EAyBbC,OAAO,EAAE;;;;;IAKPC,cALO,4BAKW;aACT,IAAIC,MAAJ,CAAW,KAAKC,UAAL,CAAgB,KAAKrB,WAArB,CAAX,EAA8C,KAAKO,MAAnD,CAAP;KANK;;;;;IAWPe,cAXO,4BAWW;MAChBC,WAAW,CAAC,IAAD,CAAX;aAEO,KAAKC,UAAL,CAAgB,KAAKR,SAAL,CAAeC,SAAf,EAAhB,CAAP;KAdK;;;;;IAmBPQ,cAnBO,0BAmBSC,UAnBT,EAmBqB;MAC1BH,WAAW,CAAC,IAAD,CAAX;WAEKP,SAAL,CAAeW,SAAf,CAAyB,KAAKN,UAAL,CAAgBK,UAAhB,CAAzB;;GA/CS;EAkDbE,KAAK,EAAE;IACLrB,MADK,kBACGF,KADH,EACU;UACT,CAAC,KAAKW,SAAV,EAAqB;;UAEjBX,KAAK,KAAK,KAAKW,SAAL,CAAea,SAAf,EAAd,EAA0C;aACnCb,SAAL,CAAec,SAAf,CAAyBzB,KAAzB;;;;CAvDR;;ACTY,2BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAZ,SAAS0B,MAAT,CAAiBC,GAAjB,EAAoC;MAAdC,OAAc,uEAAJ,EAAI;;MAC9BF,MAAM,CAACG,SAAX,EAAsB;;;;EAGtBH,MAAM,CAACG,SAAP,GAAmB,IAAnB;EAEAD,OAAO,GAAGE,IAAI,CAACF,OAAD,EAAU,gBAAV,CAAd;;iBACcG,IAAd,EAAoBH,OAApB;;EAEAD,GAAG,CAACK,SAAJ,CAAcD,IAAI,CAACxC,IAAnB,EAAyBwC,IAAzB;;;;;;"}