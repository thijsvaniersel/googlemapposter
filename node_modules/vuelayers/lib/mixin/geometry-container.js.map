{"version":3,"file":"geometry-container.js","sources":["src/mixin/geometry-container.js"],"sourcesContent":["import Vue from 'vue'\nimport { isPlainObject } from '../util/minilo'\nimport projTransforms from './proj-transforms'\n\nexport default {\n  mixins: [projTransforms],\n  methods: {\n    /**\n     * @return {{\n     *     getGeometry: function(): module:ol/geom/Geometry~Geometry|undefined,\n     *     setGeometry: function(module:ol/geom/Geometry~Geometry|undefined)\n     *   }|undefined}\n     * @protected\n     */\n    getGeometryTarget () {\n      throw new Error('Not implemented method')\n    },\n    /**\n     * @return {module:ol/geom/Geometry~Geometry|undefined}\n     */\n    getGeometry () {\n      return this._geometry\n    },\n    /**\n     * @return {Object}\n     * @protected\n     */\n    getServices () {\n      const vm = this\n\n      return {\n        get geometryContainer () { return vm },\n      }\n    },\n    /**\n     * @param {module:ol/geom/Geometry~Geometry|Vue|Object|undefined} geom\n     * @return {void}\n     * @throws {AssertionError}\n     */\n    setGeometry (geom) {\n      if (geom instanceof Vue) {\n        geom = geom.$geometry\n      } else if (isPlainObject(geom)) {\n        geom = this.readGeometryInDataProj(geom)\n      }\n\n      if (geom !== this._geometry) {\n        /**\n         * @type {module:ol/geom/Geometry~Geometry|undefined}\n         * @private\n         */\n        this._geometry = geom\n      }\n\n      const geomTarget = this.getGeometryTarget()\n      if (geomTarget && geom !== geomTarget.getGeometry()) {\n        geomTarget.setGeometry(geom)\n      }\n    },\n  },\n}\n"],"names":["mixins","projTransforms","methods","getGeometryTarget","Error","getGeometry","_geometry","getServices","vm","geometryContainer","setGeometry","geom","Vue","$geometry","isPlainObject","readGeometryInDataProj","geomTarget"],"mappings":";;;;;;;;;;;;;;AAIA,wBAAe;EACbA,MAAM,EAAE,CAACC,cAAD,CADK;EAEbC,OAAO,EAAE;;;;;;;;IAQPC,iBARO,+BAQc;YACb,IAAIC,KAAJ,CAAU,wBAAV,CAAN;KATK;;;;;IAcPC,WAdO,yBAcQ;aACN,KAAKC,SAAZ;KAfK;;;;;;IAqBPC,WArBO,yBAqBQ;UACPC,EAAE,GAAG,IAAX;aAEO;YACDC,iBAAJ,GAAyB;iBAASD,EAAP;;;OAD7B;KAxBK;;;;;;;IAiCPE,WAjCO,uBAiCMC,IAjCN,EAiCY;UACbA,IAAI,YAAYC,GAApB,EAAyB;QACvBD,IAAI,GAAGA,IAAI,CAACE,SAAZ;OADF,MAEO,IAAIC,aAAa,CAACH,IAAD,CAAjB,EAAyB;QAC9BA,IAAI,GAAG,KAAKI,sBAAL,CAA4BJ,IAA5B,CAAP;;;UAGEA,IAAI,KAAK,KAAKL,SAAlB,EAA6B;;;;;aAKtBA,SAAL,GAAiBK,IAAjB;;;UAGIK,UAAU,GAAG,KAAKb,iBAAL,EAAnB;;UACIa,UAAU,IAAIL,IAAI,KAAKK,UAAU,CAACX,WAAX,EAA3B,EAAqD;QACnDW,UAAU,CAACN,WAAX,CAAuBC,IAAvB;;;;CApDR;;;;"}