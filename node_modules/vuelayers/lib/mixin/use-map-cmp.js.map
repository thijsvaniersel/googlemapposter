{"version":3,"file":"use-map-cmp.js","sources":["src/mixin/use-map-cmp.js"],"sourcesContent":["import { interval as intervalObs } from 'rxjs/observable'\nimport { first as firstObs, map as mapObs, skipWhile } from 'rxjs/operators'\n\n/**\n * Basic mixin for ol components that depends on map instance\n */\nexport default {\n  methods: {\n    /**\n     * @return {Promise<void>}\n     * @protected\n     */\n    beforeInit () {\n      // waits while $map service will be injected\n      return intervalObs(100).pipe(\n        skipWhile(() => !this.$map),\n        firstObs(),\n        mapObs(() => this),\n      ).toPromise(Promise)\n    },\n  },\n}\n"],"names":["methods","beforeInit","intervalObs","pipe","skipWhile","$map","firstObs","mapObs","toPromise"],"mappings":";;;;;;;;;;;;;;;;AAGA;;;;AAGA,gBAAe;EACbA,OAAO,EAAE;;;;;IAKPC,UALO,wBAKO;;;;aAELC,QAAW,CAAC,GAAD,CAAX,CAAiBC,IAAjB,CACLC,SAAS,CAAC;eAAM,CAAC,KAAI,CAACC,IAAZ;OAAD,CADJ,EAELC,KAAQ,EAFH,EAGLC,GAAM,CAAC;eAAM,KAAN;OAAD,CAHD,EAILC,SAJK,UAAP;;;CARN;;;;"}