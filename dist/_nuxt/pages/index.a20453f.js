(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{670:function(t,e,o){var content=o(675);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(98).default)("0baee0c3",content,!0,{sourceMap:!1})},671:function(t,e,o){var content=o(677);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(98).default)("35510ebd",content,!0,{sourceMap:!1})},672:function(t,e,o){var content=o(679);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(98).default)("42d0955b",content,!0,{sourceMap:!1})},673:function(t,e,o){var content=o(682);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(98).default)("0ace817b",content,!0,{sourceMap:!1})},674:function(t,e,o){"use strict";var r=o(670);o.n(r).a},675:function(t,e,o){(e=o(97)(!1)).push([t.i,".route_type[data-v-e4cc6f20]{display:inline}.Add_address[data-v-e4cc6f20]{background:#b6dbb7;padding:.5em;color:#406b42;border-radius:3px}.Add_address h2[data-v-e4cc6f20]{font-size:20px;line-height:23px;text-align:center;margin:1em 0}.Add_address .address[data-v-e4cc6f20]{margin:0}.Add_address .address p[data-v-e4cc6f20]{line-height:6px;color:#848080}.Add_address .address input[data-v-e4cc6f20]{width:100%;padding:1em;background:#edeceb;color:#2a393d;font-size:18px;border:1px solid #edeceb;transition:all .3s ease;background:#fff}.Add_address .address input[data-v-e4cc6f20]:focus{outline:none;border:1px solid #edeceb}.Add_address .address input.filled[data-v-e4cc6f20]{background:#cce0da;color:#308067}",""]),t.exports=e},676:function(t,e,o){"use strict";var r=o(671);o.n(r).a},677:function(t,e,o){(e=o(97)(!1)).push([t.i,".type_icon[data-v-fd15deb6]{text-align:center;display:block;margin-bottom:.5em}.type_icon img[data-v-fd15deb6]{width:16%;min-width:40px;height:auto}",""]),t.exports=e},678:function(t,e,o){"use strict";var r=o(672);o.n(r).a},679:function(t,e,o){(e=o(97)(!1)).push([t.i,".create[data-v-4479d458]{padding:1em;height:80vh;overflow-y:scroll}.create .route[data-v-4479d458]{border:1px solid #dedede;background:#f2f2f2;padding:1em;margin-bottom:1em;box-shadow:0 0 8px 0 #ccc}.create .route .address[data-v-4479d458]{background:#fff;margin-bottom:.3em;border-radius:3px}.create .route .address .route_address[data-v-4479d458]{padding:.5em}",""]),t.exports=e},681:function(t,e,o){"use strict";var r=o(673);o.n(r).a},682:function(t,e,o){(e=o(97)(!1)).push([t.i,'#app,body,html{width:100%;height:100%;margin:0;padding:0}#route_nav{position:fixed;top:0;height:100%;z-index:2;background:#fff;width:30%}#route_nav .actions{padding:3em 0;text-align:center;position:absolute;bottom:0;width:100%;background:#cce0da}#route_nav .actions button{background:#2a393d;color:#fff;border-radius:3px;font-size:20px;padding:.3em 1em;transition:all .3s;border:1px solid #2a393d}#route_nav .actions button:hover{background:#cce0da;color:#2a393d}#map_outer{display:inline-block;position:relative;width:auto;background:#edeceb;width:70%;float:right}#map_outer:after{padding-top:141.38%;display:block;content:""}#map_outer .vl-map{position:absolute!important;top:0!important;right:0!important;width:100%;height:100%}',""]),t.exports=e},683:function(t,e,o){"use strict";o.r(e);var r=o(0),n={name:"addAddress",data:function(){return{type:"car"}},methods:{addAddressMethod:function(address){this.$refs.autocomplete.$el.value="";var t={address:address,type:this.type};this.$store.dispatch("map/changeAddress",t)}}},d=(o(674),o(57)),c=Object(d.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"Add_address"},[o("h2",[t._v("Add an address")]),t._v(" "),o("div",{staticClass:"route"},[o("div",{staticClass:"route_type"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",id:"car",value:"car"},domProps:{checked:t._q(t.type,"car")},on:{change:function(e){t.type="car"}}}),t._v(" "),o("label",{attrs:{for:"car"}},[t._v("Car")])]),t._v(" "),o("div",{staticClass:"route_type"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",id:"airplane",value:"airplane"},domProps:{checked:t._q(t.type,"airplane")},on:{change:function(e){t.type="airplane"}}}),t._v(" "),o("label",{attrs:{for:"airplane"}},[t._v("Airplane")])]),t._v(" "),o("div",{staticClass:"route_type"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",id:"train",value:"train"},domProps:{checked:t._q(t.type,"train")},on:{change:function(e){t.type="train"}}}),t._v(" "),o("label",{attrs:{for:"train"}},[t._v("Train")])]),t._v(" "),o("div",{staticClass:"address"},[o("GmapAutocomplete",{ref:"autocomplete",attrs:{placeholder:"Please type your address"},on:{place_changed:t.addAddressMethod}})],1)])])}),[],!1,null,"e4cc6f20",null).exports,l={name:"typeIcon",props:{iconString:String}},v=(o(676),{name:"addresses",components:{addAddress:c,iconType:Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"type_icon"},["car"==t.iconString?o("div",[o("img",{attrs:{src:"/poster/car.svg"}})]):t._e(),t._v(" "),"airplane"==t.iconString?o("div",[o("img",{attrs:{src:"/poster/plane.svg"}})]):t._e(),t._v(" "),"train"==t.iconString?o("div",[o("img",{attrs:{src:"/poster/train.svg"}})]):t._e()])}),[],!1,null,"fd15deb6",null).exports},computed:{routes:function(){return this.$store.state.map.routes}}}),f=(o(678),{name:"openlayers",components:{addresses:Object(d.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"create"},[t._l(t.routes,(function(e,r){return t.routes[0].locations.length>0?o("div",{key:"route_"+r,staticClass:"route"},[0==r?o("div",[o("iconType",{attrs:{iconString:e.type}})],1):t._e(),t._v(" "),void 0!==t.routes[r-1]?o("div",[o("iconType",{attrs:{iconString:e.type}})],1):t._e(),t._v(" "),t._l(e.locations,(function(address,r){return e.locations&&e.locations.length>0?o("div",{key:"address_"+r,staticClass:"address"},[void 0!==e.names[r]?o("div",{staticClass:"route_address",domProps:{innerHTML:t._s(e.names[r])}}):t._e()]):t._e()}))],2):t._e()})),t._v(" "),o("addAddress")],2)}),[],!1,null,"4479d458",null).exports},data:function(){return Object(r.a)({strokeWidth:6,zoom:10,features:[],format:"a2",resolution:300,message:"",apiKey:"AnqhLoxDaqM4GRk2qR6U641ZFGlZ68HF9OyMTH1lBYOhh6DN8ZFBYkQJk6ThVZ4g",imagerySet:"CanvasLight"},"features",[])},computed:{routes:function(){return this.$store.state.map.routes},center:{get:function(){return this.$store.state.map.center},set:function(t){return t}},style:function(){return this.$store.state.style.style}},mounted:function(){},methods:{exportMap:function(){var t=this,e=o(680),map=this.$refs.map.$map;this.message="exporting...",map.once("postcompose",(function(o){var data=o.context.canvas.toDataURL("image/jpeg"),r=new e("portrait","mm","A2"),n=r.internal.pageSize.getWidth(),d=r.internal.pageSize.getHeight();console.log(n),console.log(n),r.addImage(data,"JPEG",0,0,n,d),r.save("map.pdf"),t.fit(),t.message=""})),this.fit()},fit:function(){this.$refs.mapView.$view.fit(this.$refs.vectorSource.$source.getExtent(),{size:this.$refs.map.$map.getSize(),duration:1e3,padding:[175,175,175,175]})}},watch:{routes:function(t,e){this.fit()}}}),m=(o(681),Object(d.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("client-only",[o("div",{attrs:{id:"route_nav"}},[o("addresses"),t._v(" "),o("div",{staticClass:"actions"},[o("button",{on:{click:t.exportMap}},[t._v("Export")]),t._v("\n          "+t._s(t.message)+"\n          "),o("button",{on:{click:t.fit}},[t._v("FIT")])])],1),t._v(" "),o("div",{attrs:{id:"map_outer"}},[o("vl-map",{ref:"map",attrs:{"load-tiles-while-animating":!0,"load-tiles-while-interacting":!0,"data-projection":"EPSG:4326",id:"map"}},[o("vl-view",{ref:"mapView",attrs:{zoom:t.zoom,center:t.center},on:{"update:zoom":function(e){t.zoom=e},"update:center":function(e){t.center=e}}}),t._v(" "),o("vl-layer-tile",{attrs:{id:"osm"}},[o("vl-source-osm")],1),t._v(" "),o("vl-layer-tile",[o("vl-source-xyz",{attrs:{"cross-origin":"Anonymous",url:"https://api.mapbox.com/styles/v1/thijsvaniersel/ckca4nrcp1uwc1jo0m2mf90k3/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoidGhpanN2YW5pZXJzZWwiLCJhIjoiY2tjOWR6ejloMWttYTJ2bG0wOWF2ZGlkZyJ9.aBDTsgvAz7ufZX5TnHrPOA"}})],1),t._v(" "),o("vl-layer-vector",[o("vl-source-vector",{ref:"vectorSource",attrs:{projection:"EPSG:4326"}},t._l(t.routes,(function(e,r){return t.routes[0].route.length>0&&void 0!==e.route&&e.route.length>0?o("vl-feature",{key:r+"_line"},[o("vl-geom-line-string",{attrs:{coordinates:e.route}}),t._v(" "),o("vl-style-box",[o("vl-style-fill",{attrs:{color:"white"}}),t._v(" "),"airplane"==e.type?o("vl-style-stroke",{attrs:{color:"#cfaaa9",width:t.strokeWidth,"line-dash":[8,8]}}):t._e(),t._v(" "),"car"==e.type?o("vl-style-stroke",{attrs:{color:"#cfaaa9",width:t.strokeWidth}}):t._e(),t._v(" "),"train"==e.type?o("vl-style-stroke",{attrs:{color:"#cfaaa9",width:t.strokeWidth,"line-dash":[3,5,30,5]}}):t._e()],1)],1):t._e()})),1)],1),t._v(" "),t._l(t.routes,(function(e,r){return t.routes[0].locations.length>0?o("vl-layer-vector",{key:r+"_dot"},[o("vl-source-vector",{attrs:{projection:"EPSG:4326"}},[t._l(e.locations,(function(n,d){return o("vl-feature",{key:r+" "+d+"_loc"},[o("vl-geom-point",{attrs:{coordinates:n}}),t._v(" "),o("vl-style-box",[o("vl-style-text",{attrs:{text:0==r?e.names[d]:e.names[d-1],font:"14px arial",offsetX:20,textAlign:"left",textBaseline:"middle",scale:1.3}},[o("vl-style-fill",{attrs:{color:"#a06d6d"}})],1),t._v(" "),o("vl-style-circle",{attrs:{radius:10}},[o("vl-style-fill",{attrs:{color:"#cfaaa9"}}),t._v(" "),o("vl-style-stroke",{attrs:{color:"#a06d6d"}})],1)],1)],1)})),t._v(" --\x3e\n\n            ")],2)],1):t._e()}))],2)],1)])],1)}),[],!1,null,null,null));e.default=m.exports}}]);